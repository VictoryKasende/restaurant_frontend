<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Le Gourmet Français - Restaurant</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;600;700&display=swap');
        
        :root {
            --primary: #FF6B6B;
            --secondary: #4ECDC4;
            --dark: #292F36;
            --light: #F7FFF7;
            --accent: #FFE66D;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f8fafc;
            color: var(--dark);
        }
        
        .title-font {
            font-family: 'Playfair Display', serif;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
        }
        
        .card {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
        }
        
        .btn-primary:hover {
            opacity: 0.9;
        }
        
        .star-rating .star {
            color: #ddd;
            cursor: pointer;
            transition: color 0.2s;
        }
        
        .star-rating .star:hover,
        .star-rating .star.active {
            color: var(--accent);
        }
        
        .cart-notification {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body>
    <!-- Barre de navigation -->
    <nav class="bg-white shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <div class="gradient-bg text-white p-2 rounded-lg">
                        <i class="fas fa-utensils text-xl"></i>
                    </div>
                    <span class="title-font text-xl font-bold text-gray-800 ml-2">Le Gourmet Français</span>
                </div>
                <div class="flex items-center space-x-4">
                    <a href="#menu" class="text-gray-700 hover:text-primary px-3 py-2">Menu</a>
                    <a href="#about" class="text-gray-700 hover:text-primary px-3 py-2">À propos</a>
                    <a href="#contact" class="text-gray-700 hover:text-primary px-3 py-2">Contact</a>
                    <div class="relative">
                        <button id="cartButton" class="text-gray-700 hover:text-primary p-2">
                            <i class="fas fa-shopping-cart text-xl"></i>
                            <span id="cartCount" class="absolute -top-1 -right-1 bg-primary text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center cart-notification hidden">0</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="gradient-bg text-white py-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h1 class="title-font text-4xl md:text-5xl font-bold mb-4">Découvrez l'art culinaire français</h1>
            <p class="text-xl mb-8">Une expérience gastronomique inoubliable</p>
            <a href="#menu" class="btn-primary inline-flex items-center px-6 py-3 border border-transparent rounded-lg font-medium text-white">
                Voir le menu <i class="fas fa-arrow-down ml-2"></i>
            </a>
        </div>
    </header>

    <!-- Menu Section -->
    <section id="menu" class="py-12 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="title-font text-3xl font-bold text-center mb-12">Notre Menu</h2>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Plat 1 -->
                <div class="card bg-white rounded-lg overflow-hidden">
                    <img src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Salade Niçoise" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <div class="flex justify-between items-start">
                            <h3 class="title-font text-xl font-bold">Salade Niçoise</h3>
                            <span class="text-primary font-bold">14.90€</span>
                        </div>
                        <p class="text-gray-600 mt-2">Salade traditionnelle avec thon, œufs, tomates et olives</p>
                        
                        <div class="mt-4 flex justify-between items-center">
                            <button class="add-to-cart btn-primary px-4 py-2 rounded-lg text-sm text-white" data-id="1" data-name="Salade Niçoise" data-price="14.90">
                                <i class="fas fa-cart-plus mr-1"></i> Ajouter
                            </button>
                            <button class="show-review-form text-gray-500 hover:text-primary px-3 py-1 text-sm" data-id="1">
                                <i class="fas fa-comment-alt mr-1"></i> Avis
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Plat 2 -->
                <div class="card bg-white rounded-lg overflow-hidden">
                    <img src="https://images.unsplash.com/photo-1504674900247-0877df9cc836?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Bœuf Bourguignon" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <div class="flex justify-between items-start">
                            <h3 class="title-font text-xl font-bold">Bœuf Bourguignon</h3>
                            <span class="text-primary font-bold">22.50€</span>
                        </div>
                        <p class="text-gray-600 mt-2">Bœuf mijoté au vin rouge avec carottes et champignons</p>
                        
                        <div class="mt-4 flex justify-between items-center">
                            <button class="add-to-cart btn-primary px-4 py-2 rounded-lg text-sm text-white" data-id="2" data-name="Bœuf Bourguignon" data-price="22.50">
                                <i class="fas fa-cart-plus mr-1"></i> Ajouter
                            </button>
                            <button class="show-review-form text-gray-500 hover:text-primary px-3 py-1 text-sm" data-id="2">
                                <i class="fas fa-comment-alt mr-1"></i> Avis
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Plat 3 -->
                <div class="card bg-white rounded-lg overflow-hidden">
                    <img src="https://images.unsplash.com/photo-1572695157366-5e585ab2b69f?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Ratatouille" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <div class="flex justify-between items-start">
                            <h3 class="title-font text-xl font-bold">Ratatouille</h3>
                            <span class="text-primary font-bold">16.75€</span>
                        </div>
                        <p class="text-gray-600 mt-2">Légumes provençaux mijotés à l'huile d'olive</p>
                        
                        <div class="mt-4 flex justify-between items-center">
                            <button class="add-to-cart btn-primary px-4 py-2 rounded-lg text-sm text-white" data-id="3" data-name="Ratatouille" data-price="16.75">
                                <i class="fas fa-cart-plus mr-1"></i> Ajouter
                            </button>
                            <button class="show-review-form text-gray-500 hover:text-primary px-3 py-1 text-sm" data-id="3">
                                <i class="fas fa-comment-alt mr-1"></i> Avis
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Plat 4 -->
                <div class="card bg-white rounded-lg overflow-hidden">
                    <img src="https://images.unsplash.com/photo-1559847844-5315695dadae?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Crêpe Suzette" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <div class="flex justify-between items-start">
                            <h3 class="title-font text-xl font-bold">Crêpe Suzette</h3>
                            <span class="text-primary font-bold">9.90€</span>
                        </div>
                        <p class="text-gray-600 mt-2">Crêpes flambées au Grand Marnier et jus d'orange</p>
                        
                        <div class="mt-4 flex justify-between items-center">
                            <button class="add-to-cart btn-primary px-4 py-2 rounded-lg text-sm text-white" data-id="4" data-name="Crêpe Suzette" data-price="9.90">
                                <i class="fas fa-cart-plus mr-1"></i> Ajouter
                            </button>
                            <button class="show-review-form text-gray-500 hover:text-primary px-3 py-1 text-sm" data-id="4">
                                <i class="fas fa-comment-alt mr-1"></i> Avis
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Plat 5 -->
                <div class="card bg-white rounded-lg overflow-hidden">
                    <img src="https://images.unsplash.com/photo-1603105037880-880cd4edfb0d?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Soupe à l'oignon" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <div class="flex justify-between items-start">
                            <h3 class="title-font text-xl font-bold">Soupe à l'oignon</h3>
                            <span class="text-primary font-bold">12.50€</span>
                        </div>
                        <p class="text-gray-600 mt-2">Soupe traditionnelle gratinée avec fromage et croûtons</p>
                        
                        <div class="mt-4 flex justify-between items-center">
                            <button class="add-to-cart btn-primary px-4 py-2 rounded-lg text-sm text-white" data-id="5" data-name="Soupe à l'oignon" data-price="12.50">
                                <i class="fas fa-cart-plus mr-1"></i> Ajouter
                            </button>
                            <button class="show-review-form text-gray-500 hover:text-primary px-3 py-1 text-sm" data-id="5">
                                <i class="fas fa-comment-alt mr-1"></i> Avis
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Plat 6 -->
                <div class="card bg-white rounded-lg overflow-hidden">
                    <img src="https://images.unsplash.com/photo-1510626176961-4b57d4fbad03?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Tarte Tatin" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <div class="flex justify-between items-start">
                            <h3 class="title-font text-xl font-bold">Tarte Tatin</h3>
                            <span class="text-primary font-bold">8.90€</span>
                        </div>
                        <p class="text-gray-600 mt-2">Tarte renversée aux pommes caramélisées</p>
                        
                        <div class="mt-4 flex justify-between items-center">
                            <button class="add-to-cart btn-primary px-4 py-2 rounded-lg text-sm text-white" data-id="6" data-name="Tarte Tatin" data-price="8.90">
                                <i class="fas fa-cart-plus mr-1"></i> Ajouter
                            </button>
                            <button class="show-review-form text-gray-500 hover:text-primary px-3 py-1 text-sm" data-id="6">
                                <i class="fas fa-comment-alt mr-1"></i> Avis
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Avis Section -->
    <section class="py-12 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="title-font text-3xl font-bold text-center mb-12">Avis des Clients</h2>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8" id="reviewsContainer">
                <!-- Les avis seront chargés ici dynamiquement -->
                <div class="text-center">
                    <p class="text-gray-500">Chargement des avis...</p>
                </div>
            </div>
        </div>
    </section>

    <!-- À propos Section -->
    <section id="about" class="py-12 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="lg:flex lg:items-center lg:justify-between">
                <div class="lg:w-1/2">
                    <h2 class="title-font text-3xl font-bold mb-6">Notre Histoire</h2>
                    <p class="text-gray-600 mb-4">Fondé en 1985, Le Gourmet Français est rapidement devenu une référence de la cuisine traditionnelle française à Paris.</p>
                    <p class="text-gray-600 mb-4">Notre chef, Jean-Luc Dubois, formé auprès des plus grands noms de la gastronomie française, apporte son savoir-faire et sa passion dans chaque plat.</p>
                    <p class="text-gray-600">Nous nous engageons à utiliser des produits locaux et de saison pour offrir une expérience authentique et responsable.</p>
                </div>
                <div class="lg:w-1/2 mt-8 lg:mt-0 lg:pl-12">
                    <img src="https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Notre restaurant" class="rounded-lg shadow-lg w-full">
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-12 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="title-font text-3xl font-bold text-center mb-12">Contactez-nous</h2>
            
            <div class="grid md:grid-cols-2 gap-12">
                <div>
                    <h3 class="title-font text-xl font-bold mb-4">Informations</h3>
                    <div class="space-y-4">
                        <div class="flex items-start">
                            <i class="fas fa-map-marker-alt text-primary mt-1 mr-3"></i>
                            <p>12 Rue de la Gastronomie, 75008 Paris</p>
                        </div>
                        <div class="flex items-start">
                            <i class="fas fa-phone-alt text-primary mt-1 mr-3"></i>
                            <p>+33 1 23 45 67 89</p>
                        </div>
                        <div class="flex items-start">
                            <i class="fas fa-envelope text-primary mt-1 mr-3"></i>
                            <p>contact@gourmetfrancais.com</p>
                        </div>
                        <div class="flex items-start">
                            <i class="fas fa-clock text-primary mt-1 mr-3"></i>
                            <p>
                                Lundi - Vendredi: 11h30 - 14h30 / 19h - 22h<br>
                                Samedi - Dimanche: 12h - 23h
                            </p>
                        </div>
                    </div>
                </div>
                
                <div>
                    <h3 class="title-font text-xl font-bold mb-4">Formulaire de contact</h3>
                    <form class="space-y-4">
                        <div>
                            <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Nom</label>
                            <input type="text" id="name" name="name" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-primary">
                        </div>
                        <div>
                            <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                            <input type="email" id="email" name="email" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-primary">
                        </div>
                        <div>
                            <label for="message" class="block text-sm font-medium text-gray-700 mb-1">Message</label>
                            <textarea id="message" name="message" rows="4" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-primary"></textarea>
                        </div>
                        <button type="submit" class="btn-primary px-6 py-3 rounded-lg text-white font-medium">
                            Envoyer <i class="fas fa-paper-plane ml-2"></i>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="md:flex md:justify-between md:items-center">
                <div class="flex items-center mb-4 md:mb-0">
                    <div class="gradient-bg text-white p-2 rounded-lg">
                        <i class="fas fa-utensils"></i>
                    </div>
                    <span class="title-font text-xl font-bold ml-2">Le Gourmet Français</span>
                </div>
                
                <div class="flex space-x-6">
                    <a href="#" class="text-gray-300 hover:text-white">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="#" class="text-gray-300 hover:text-white">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="#" class="text-gray-300 hover:text-white">
                        <i class="fab fa-tripadvisor"></i>
                    </a>
                </div>
            </div>
            
            <div class="mt-8 pt-8 border-t border-gray-700 text-center text-gray-400 text-sm">
                <p>&copy; 2023 Le Gourmet Français. Tous droits réservés.</p>
            </div>
        </div>
    </footer>

    <!-- Panier Modal -->
    <div id="cartModal" class="fixed inset-0 z-50 hidden overflow-y-auto">
        <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 transition-opacity" aria-hidden="true">
                <div class="absolute inset-0 bg-gray-500 opacity-75"></div>
            </div>
            
            <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>
            
            <div class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full">
                <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                    <div class="sm:flex sm:items-start">
                        <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full">
                            <h3 class="title-font text-lg leading-6 font-medium text-gray-900 mb-4">
                                <i class="fas fa-shopping-cart mr-2"></i> Votre Panier
                            </h3>
                            
                            <div class="mt-2">
                                <div id="cartItems" class="space-y-4">
                                    <!-- Les éléments du panier seront ajoutés ici dynamiquement -->
                                    <p class="text-gray-500 text-center py-4">Votre panier est vide</p>
                                </div>
                                
                                <div class="border-t border-gray-200 mt-4 pt-4">
                                    <div class="flex justify-between items-center">
                                        <span class="font-bold">Total:</span>
                                        <span id="cartTotal" class="font-bold text-primary">0.00€</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
                    <button type="button" id="checkoutBtn" class="btn-primary w-full inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 text-base font-medium text-white sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50" disabled>
                        Commander <i class="fas fa-credit-card ml-2"></i>
                    </button>
                    <button type="button" id="closeCartBtn" class="mt-3 w-full inline-flex justify-center rounded-lg border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">
                        Continuer mes achats
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Avis Modal -->
    <div id="reviewModal" class="fixed inset-0 z-50 hidden overflow-y-auto">
        <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 transition-opacity" aria-hidden="true">
                <div class="absolute inset-0 bg-gray-500 opacity-75"></div>
            </div>
            
            <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>
            
            <div class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full">
                <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                    <div class="sm:flex sm:items-start">
                        <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full">
                            <h3 class="title-font text-lg leading-6 font-medium text-gray-900 mb-2" id="reviewDishName">
                                Donnez votre avis sur [Plat]
                            </h3>
                            
                            <div class="mt-4">
                                <input type="hidden" id="reviewDishId">
                                
                                <div class="mb-4">
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Note</label>
                                    <div class="star-rating flex justify-center space-x-2">
                                        <i class="fas fa-star text-2xl star" data-value="1"></i>
                                        <i class="fas fa-star text-2xl star" data-value="2"></i>
                                        <i class="fas fa-star text-2xl star" data-value="3"></i>
                                        <i class="fas fa-star text-2xl star" data-value="4"></i>
                                        <i class="fas fa-star text-2xl star" data-value="5"></i>
                                    </div>
                                    <input type="hidden" id="reviewRating" value="0">
                                </div>
                                
                                <div class="mb-4">
                                    <label for="reviewComment" class="block text-sm font-medium text-gray-700 mb-2">Commentaire</label>
                                    <textarea id="reviewComment" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-primary"></textarea>
                                </div>
                                
                                <div>
                                    <label for="reviewName" class="block text-sm font-medium text-gray-700 mb-2">Votre nom (optionnel)</label>
                                    <input type="text" id="reviewName" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-primary">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
                    <button type="button" id="submitReviewBtn" class="btn-primary w-full inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 text-base font-medium text-white sm:ml-3 sm:w-auto sm:text-sm">
                        Envoyer l'avis <i class="fas fa-paper-plane ml-2"></i>
                    </button>
                    <button type="button" id="cancelReviewBtn" class="mt-3 w-full inline-flex justify-center rounded-lg border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">
                        Annuler
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script>
        // Panier - Stockage local
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        
        // Avis - Simulation de données
        let reviews = [
            {
                dishId: 1,
                dishName: "Salade Niçoise",
                rating: 5,
                comment: "Délicieuse et fraîche, parfaite pour un déjeuner léger!",
                author: "Marie D.",
                date: "2023-05-15"
            },
            {
                dishId: 2,
                dishName: "Bœuf Bourguignon",
                rating: 4,
                comment: "Très bon, la viande était tendre et bien parfumée.",
                author: "Pierre L.",
                date: "2023-05-10"
            },
            {
                dishId: 3,
                dishName: "Ratatouille",
                rating: 5,
                comment: "Un régal végétarien, les légumes étaient parfaitement cuits.",
                author: "Sophie T.",
                date: "2023-05-08"
            }
        ];
        
        // Mettre à jour le compteur du panier
        function updateCartCount() {
            const count = cart.reduce((total, item) => total + item.quantity, 0);
            const cartCount = document.getElementById('cartCount');
            
            if (count > 0) {
                cartCount.textContent = count;
                cartCount.classList.remove('hidden');
            } else {
                cartCount.classList.add('hidden');
            }
        }
        
        // Afficher le panier
        function displayCart() {
            const cartItems = document.getElementById('cartItems');
            const cartTotal = document.getElementById('cartTotal');
            const checkoutBtn = document.getElementById('checkoutBtn');
            
            if (cart.length === 0) {
                cartItems.innerHTML = '<p class="text-gray-500 text-center py-4">Votre panier est vide</p>';
                checkoutBtn.disabled = true;
                cartTotal.textContent = '0.00€';
                return;
            }
            
            let itemsHTML = '';
            let total = 0;
            
            cart.forEach((item, index) => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                
                itemsHTML += `
                    <div class="flex justify-between items-center border-b border-gray-100 pb-4">
                        <div>
                            <h4 class="font-medium">${item.name}</h4>
                            <p class="text-sm text-gray-500">${item.price.toFixed(2)}€ x ${item.quantity}</p>
                        </div>
                        <div class="flex items-center">
                            <span class="font-medium mr-4">${itemTotal.toFixed(2)}€</span>
                            <button class="remove-from-cart text-red-500 hover:text-red-700" data-index="${index}">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                `;
            });
            
            cartItems.innerHTML = itemsHTML;
            cartTotal.textContent = `${total.toFixed(2)}€`;
            checkoutBtn.disabled = false;
            
            // Ajouter les événements pour supprimer les éléments
            document.querySelectorAll('.remove-from-cart').forEach(button => {
                button.addEventListener('click', function() {
                    const index = parseInt(this.getAttribute('data-index'));
                    cart.splice(index, 1);
                    localStorage.setItem('cart', JSON.stringify(cart));
                    updateCartCount();
                    displayCart();
                });
            });
        }
        
        // Afficher les avis
        function displayReviews() {
            const reviewsContainer = document.getElementById('reviewsContainer');
            
            if (reviews.length === 0) {
                reviewsContainer.innerHTML = '<div class="text-center"><p class="text-gray-500">Aucun avis pour le moment.</p></div>';
                return;
            }
            
            let reviewsHTML = '';
            
            reviews.forEach(review => {
                let stars = '';
                for (let i = 1; i <= 5; i++) {
                    stars += `<i class="fas fa-star ${i <= review.rating ? 'text-yellow-400' : 'text-gray-300'}"></i>`;
                }
                
                reviewsHTML += `
                    <div class="card bg-white p-6">
                        <div class="flex items-center mb-3">
                            <div class="gradient-bg text-white p-2 rounded-full">
                                <i class="fas fa-user text-sm"></i>
                            </div>
                            <div class="ml-3">
                                <h4 class="font-bold">${review.author}</h4>
                                <p class="text-xs text-gray-500">${review.date}</p>
                            </div>
                        </div>
                        <div class="mb-2">
                            <h5 class="font-medium">${review.dishName}</h5>
                            <div class="flex mt-1">
                                ${stars}
                            </div>
                        </div>
                        <p class="text-gray-600 text-sm">"${review.comment}"</p>
                    </div>
                `;
            });
            
            reviewsContainer.innerHTML = reviewsHTML;
        }
        
        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            updateCartCount();
            displayReviews();
            
            // Gestion du panier
            document.getElementById('cartButton').addEventListener('click', function() {
                displayCart();
                document.getElementById('cartModal').classList.remove('hidden');
            });
            
            document.getElementById('closeCartBtn').addEventListener('click', function() {
                document.getElementById('cartModal').classList.add('hidden');
            });
            
            document.getElementById('checkoutBtn').addEventListener('click', function() {
                alert('Commande passée avec succès! Merci pour votre achat.');
                cart = [];
                localStorage.setItem('cart', JSON.stringify(cart));
                updateCartCount();
                displayCart();
                document.getElementById('cartModal').classList.add('hidden');
            });
            
            // Ajouter au panier
            document.querySelectorAll('.add-to-cart').forEach(button => {
                button.addEventListener('click', function() {
                    const id = this.getAttribute('data-id');
                    const name = this.getAttribute('data-name');
                    const price = parseFloat(this.getAttribute('data-price'));
                    
                    // Vérifier si l'article est déjà dans le panier
                    const existingItem = cart.find(item => item.id === id);
                    
                    if (existingItem) {
                        existingItem.quantity += 1;
                    } else {
                        cart.push({
                            id,
                            name,
                            price,
                            quantity: 1
                        });
                    }
                    
                    localStorage.setItem('cart', JSON.stringify(cart));
                    updateCartCount();
                    
                    // Animation de confirmation
                    const cartIcon = document.getElementById('cartButton');
                    cartIcon.classList.add('animate-bounce');
                    setTimeout(() => {
                        cartIcon.classList.remove('animate-bounce');
                    }, 1000);
                });
            });
            
            // Gestion des avis
            document.querySelectorAll('.show-review-form').forEach(button => {
                button.addEventListener('click', function() {
                    const dishId = this.getAttribute('data-id');
                    const dishName = this.closest('.card').querySelector('h3').textContent;
                    
                    document.getElementById('reviewDishId').value = dishId;
                    document.getElementById('reviewDishName').textContent = `Donnez votre avis sur ${dishName}`;
                    document.getElementById('reviewRating').value = 0;
                    document.getElementById('reviewComment').value = '';
                    document.getElementById('reviewName').value = '';
                    
                    // Réinitialiser les étoiles
                    document.querySelectorAll('.star-rating .star').forEach(star => {
                        star.classList.remove('active');
                    });
                    
                    document.getElementById('reviewModal').classList.remove('hidden');
                });
            });
            
            document.getElementById('cancelReviewBtn').addEventListener('click', function() {
                document.getElementById('reviewModal').classList.add('hidden');
            });
            
            // Notation avec étoiles
            document.querySelectorAll('.star-rating .star').forEach(star => {
                star.addEventListener('click', function() {
                    const value = parseInt(this.getAttribute('data-value'));
                    document.getElementById('reviewRating').value = value;
                    
                    // Mettre à jour l'affichage des étoiles
                    const stars = this.parentNode.querySelectorAll('.star');
                    stars.forEach(s => {
                        if (parseInt(s.getAttribute('data-value')) <= value) {
                            s.classList.add('active');
                        } else {
                            s.classList.remove('active');
                        }
                    });
                });
            });
    });
    </script>
</body>
</html>